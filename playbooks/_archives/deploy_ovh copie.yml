---

- name: 'Basic & Standard ++MINION++ Provisionning on minsys.cloud'
  #to be changed in generic "pod" - this is the "pod" inventory that determine the "hosts" to be in scope of this playbook  
  hosts: pod
  vars_prompt:
    - name: "confirm"
      prompt: "You really want to initiate this ++MINION++ ? yes / no"
      private: no
  pre_tasks:     
    - fail: 
        msg: "No deployment this time... aborted by user"
      when: confirm != 'yes'
  roles:
    - dist_update_upgrade
    - addgroups_initial
    - adduser_lvi
    - motd_minsys
    - addpackages_initial
    - fail2ban
    - ssh_config
    
 